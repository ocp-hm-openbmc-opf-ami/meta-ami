From d6e43c1642424ef23d584e0a9fa6dea5f83baaca Mon Sep 17 00:00:00 2001
From: krishna <krishnar@ami.com>
Date: Wed, 27 Dec 2023 12:19:35 +0530
Subject: [PATCH 37/37] add Task yaml.interface

---
 .../openbmc_project/Common/Task/meson.build   | 15 ++++
 gen/xyz/openbmc_project/Common/meson.build    | 14 ++++
 .../Common/Task.interface.yaml                | 74 +++++++++++++++++++
 3 files changed, 103 insertions(+)
 create mode 100644 gen/xyz/openbmc_project/Common/Task/meson.build
 create mode 100644 yaml/xyz/openbmc_project/Common/Task.interface.yaml

diff --git a/gen/xyz/openbmc_project/Common/Task/meson.build b/gen/xyz/openbmc_project/Common/Task/meson.build
new file mode 100644
index 0000000..a1c350a
--- /dev/null
+++ b/gen/xyz/openbmc_project/Common/Task/meson.build
@@ -0,0 +1,15 @@
+# Generated file; do not modify.
+generated_sources += custom_target(
+    'xyz/openbmc_project/Common/Task__cpp'.underscorify(),
+    input: [ '../../../../../yaml/xyz/openbmc_project/Common/Task.interface.yaml',  ],
+    output: [ 'common.hpp', 'server.cpp', 'server.hpp', 'aserver.hpp', 'client.hpp',  ],
+    depend_files: sdbusplusplus_depfiles,
+    command: [
+        sdbuspp_gen_meson_prog, '--command', 'cpp',
+        '--output', meson.current_build_dir(),
+        '--tool', sdbusplusplus_prog,
+        '--directory', meson.current_source_dir() / '../../../../../yaml',
+        'xyz/openbmc_project/Common/Task',
+    ],
+)
+
diff --git a/gen/xyz/openbmc_project/Common/meson.build b/gen/xyz/openbmc_project/Common/meson.build
index cd6282e..8a259d2 100644
--- a/gen/xyz/openbmc_project/Common/meson.build
+++ b/gen/xyz/openbmc_project/Common/meson.build
@@ -163,3 +163,17 @@ generated_others += custom_target(
     ],
 )
 
+subdir('Task')
+generated_others += custom_target(
+    'xyz/openbmc_project/Common/Task__markdown'.underscorify(),
+    input: [ '../../../../yaml/xyz/openbmc_project/Common/Task.interface.yaml',  ],
+    output: [ 'Task.md' ],
+    depend_files: sdbusplusplus_depfiles,
+    command: [
+        sdbuspp_gen_meson_prog, '--command', 'markdown',
+        '--output', meson.current_build_dir(),
+        '--tool', sdbusplusplus_prog,
+        '--directory', meson.current_source_dir() / '../../../../yaml',
+        'xyz/openbmc_project/Common/Task',
+    ],
+)
diff --git a/yaml/xyz/openbmc_project/Common/Task.interface.yaml b/yaml/xyz/openbmc_project/Common/Task.interface.yaml
new file mode 100644
index 0000000..303e91c
--- /dev/null
+++ b/yaml/xyz/openbmc_project/Common/Task.interface.yaml
@@ -0,0 +1,74 @@
+description: >
+    Implement to provide the progress on user requested activity.
+    states like completed, failed or aborted.
+
+properties:
+    - name: Status
+      type: enum[self.OperationStatus]
+      default: InProgress
+      description: >
+          Indicate the state of the operation, whether in progress, completed,
+          aborted, failed, new, starting, running, suspended, interrupted,
+          pending, stopping, exception, service, cancelling or cancelled. The
+          default should be completd during the implementation if no input is
+          provided.
+    - name: TaskId 
+      type: uint16 
+      description: >
+          ID of the task created 
+    - name: TaskName
+      type: string
+      description: >
+         Name of the Task which is created. 
+
+enumerations:
+    - name: OperationStatus
+      description: >
+          Status of the activity
+      values:
+          - name: InProgress
+            description: >
+                Requested operation is in progress.
+          - name: Completed
+            description: >
+                The operation is completed.
+          - name: Failed
+            description: >
+                The operation encountered a failure.
+          - name: Aborted
+            description: >
+                The operation is aborted.
+          - name: New
+            description: >
+                A new operation.
+          - name: Starting
+            description: >
+                Requested operation is starting.
+          - name: Running
+            description: >
+                The operation is running normally.
+          - name: Suspended
+            description: >
+                Requested operation has been suspended.
+          - name: Interrupted
+            description: >
+                Requested operation has been interrupted.
+          - name: Pending
+            description: >
+                The operation is pending and has not started.
+          - name: Stopping
+            description: >
+                Requested operation is in the process of stopping.
+          - name: Exception
+            description: >
+                The operation has stopped due to an exception condition.
+          - name: Service
+            description: >
+                The operation is running as a service.
+          - name: Cancelling
+            description: >
+                Requested operation is in the process of being cancelled.
+          - name: Cancelled
+            description: >
+                Requested operation has been cancelled by an operator or
+                internal process.
-- 
2.34.1

