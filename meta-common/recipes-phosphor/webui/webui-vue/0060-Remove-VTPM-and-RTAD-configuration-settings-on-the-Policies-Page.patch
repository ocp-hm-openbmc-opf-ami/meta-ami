From b8f89d94824e80b6bb097dd8f0cc2f551ac31be8 Mon Sep 17 00:00:00 2001
From: Sivaprabu Ganesan <sivaprabug@ami.com>
Date: Fri, 16 Jun 2023 12:55:32 +0530
Subject: [PATCH] Remove VTPM and RTAD configuration settings on the Policies
 page

Signed-off-by: Sivaprabu Ganesan <sivaprabug@ami.com>
---
 src/router/routes.js                              |  2 +-
 src/views/SecurityAndAccess/Policies/Policies.vue | 11 ++++++-----
 2 files changed, 7 insertions(+), 6 deletions(-)

diff --git a/src/router/routes.js b/src/router/routes.js
index 3b4a30e..f665af1 100644
--- a/src/router/routes.js
+++ b/src/router/routes.js
@@ -16,7 +16,7 @@ import Login from '@/views/Login';
 import LoginLayout from '@/layouts/LoginLayout';
 import SmtpSettings from '@/views/Settings/SMTP';
 import EventFilter from '@/views/PEF/EventFilter';
-import AlertDestination from '@views/PEF/AlertDestination';
+import AlertDestination from '@/views/PEF/AlertDestination';
 import Network from '@/views/Settings/Network';
 import Vlan from '@/views/Settings/Vlan';
 import Overview from '@/views/Overview';
diff --git a/src/views/SecurityAndAccess/Policies/Policies.vue b/src/views/SecurityAndAccess/Policies/Policies.vue
index ba18bf4..b484cec 100644
--- a/src/views/SecurityAndAccess/Policies/Policies.vue
+++ b/src/views/SecurityAndAccess/Policies/Policies.vue
@@ -53,7 +53,7 @@
             </b-form-checkbox>
           </b-col>
         </b-row>
-        <b-row class="setting-section">
+        <b-row v-if="DisplaySection" class="setting-section">
           <b-col class="d-flex align-items-center justify-content-between">
             <dl class="mt-3 mr-3 w-75">
               <dt>{{ $t('pagePolicies.vtpm') }}</dt>
@@ -78,7 +78,7 @@
             </b-form-checkbox>
           </b-col>
         </b-row>
-        <b-row class="setting-section">
+        <b-row v-if="DisplaySection" class="setting-section">
           <b-col class="d-flex align-items-center justify-content-between">
             <dl class="mt-3 mr-3 w-75">
               <dt>{{ $t('pagePolicies.rtad') }}</dt>
@@ -114,7 +114,7 @@
             <b-form-checkbox
               id="kvmSwitch"
               v-model="kvmState"
-              data-test-id="policies-toggle-rtad"
+              data-test-id="policies-toggle-kvm"
               switch
               @change="changeKmvState"
             >
@@ -139,7 +139,7 @@
             <b-form-checkbox
               id="vmcSwitch"
               v-model="vmcState"
-              data-test-id="policies-toggle-rtad"
+              data-test-id="policies-toggle-vmc"
               switch
               @change="changeVmcState"
             >
@@ -164,7 +164,7 @@
             <b-form-checkbox
               id="solSwitch"
               v-model="solState"
-              data-test-id="policies-toggle-vtpm"
+              data-test-id="policies-toggle-sol"
               switch
               @change="changeSOLState"
             >
@@ -312,6 +312,7 @@ export default {
       ],
       modifySSHPolicyDisabled:
         process.env.VUE_APP_MODIFY_SSH_POLICY_DISABLED === 'true',
+      DisplaySection: false,
     };
   },
   computed: {
-- 
2.25.1

