From 26f3ee8a53dbca1f48dbbd695d8adf6be0243876 Mon Sep 17 00:00:00 2001
From: prasannas <prasannas@ami.com>
Date: Mon, 26 Jun 2023 17:34:01 +0530
Subject: [PATCH 2140/2140] Fix for Incorrect status code return under
 accountservice

---
 redfish-core/lib/account_service.hpp | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/redfish-core/lib/account_service.hpp b/redfish-core/lib/account_service.hpp
index 581779b..510098d 100644
--- a/redfish-core/lib/account_service.hpp
+++ b/redfish-core/lib/account_service.hpp
@@ -2084,7 +2084,8 @@ inline void
 
     if (username == "root")
     {
-       BMCWEB_LOG_DEBUG << "Not able to delete root user\n" ; 
+       BMCWEB_LOG_DEBUG << "Not able to delete root user\n" ;
+       messages::accessDenied(
                                asyncResp->res,
                                crow::utility::urlFromPieces(
                                    "redfish", "v1", "AccountService",
                                    "Accounts", username));
-       messages::resourceCannotBeDeleted(asyncResp->res);
        return;
     }
-- 
2.9.5

