From bb199b82e9424a0291f92c7d76690624f912313c Mon Sep 17 00:00:00 2001
From: prasannas <prasannas@ami.com>
Date: Tue, 18 Jul 2023 19:22:29 +0530
Subject: [PATCH 2420/2420] Fix for Incorrect status code return under accounts

---
 redfish-core/lib/account_service.hpp | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/redfish-core/lib/account_service.hpp b/redfish-core/lib/account_service.hpp
index 251fb0d..1ade477 100644
--- a/redfish-core/lib/account_service.hpp
+++ b/redfish-core/lib/account_service.hpp
@@ -2108,7 +2108,10 @@ inline void
     if (username == "root")
     {
 	BMCWEB_LOG_DEBUG << "Not able to delete root user\n" ;
-	messages::resourceCannotBeDeleted(asyncResp->res);
+        const std::string& arg = "redfish/v1/AccountService/Accounts/" + username;  
+        messages::accessDenied(
+                                  asyncResp->res,
+                                  boost::urls::format(arg));	
 	return;
     }
 
-- 
2.9.5

