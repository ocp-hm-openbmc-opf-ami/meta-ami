From 643d54174070280de44263b993f6c948f14c85c6 Mon Sep 17 00:00:00 2001
From: prasannas <prasannas@ami.com>
Date: Wed, 28 Jun 2023 22:52:29 +0530
Subject: [PATCH 2147/2147]  Fix for Incorrect status code return under
 accountservice

---
 redfish-core/lib/account_service.hpp | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/redfish-core/lib/account_service.hpp b/redfish-core/lib/account_service.hpp
index d9c5770..16f5add 100644
--- a/redfish-core/lib/account_service.hpp
+++ b/redfish-core/lib/account_service.hpp
@@ -2044,7 +2044,11 @@ inline void
     if (username == "root")
     {
        BMCWEB_LOG_DEBUG << "Not able to delete root user\n" ; 
-       messages::resourceCannotBeDeleted(asyncResp->res);
+       messages::accessDenied(
+                                asyncResp->res,
+                                crow::utility::urlFromPieces(
+                                    "redfish", "v1", "AccountService",
+                                    "Accounts", username));
        return;
     }
 
-- 
2.9.5

