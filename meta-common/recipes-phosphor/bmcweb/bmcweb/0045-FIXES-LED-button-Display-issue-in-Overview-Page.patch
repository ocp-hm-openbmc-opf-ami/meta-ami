From 4340463e4e6664e5bb7982cb52cc4ed4a854f404 Mon Sep 17 00:00:00 2001
From: Sandeep <sandeepap@ami.com>
Date: Tue, 18 Jul 2023 14:26:32 +0530
Subject: [PATCH] FIXES LED button Display issue in Overview Page

Signed-off-by: Sandeep <sandeepap@ami.com>
---
 redfish-core/lib/managers.hpp | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

diff --git a/redfish-core/lib/managers.hpp b/redfish-core/lib/managers.hpp
index 99de211f..10b3bb0b 100644
--- a/redfish-core/lib/managers.hpp
+++ b/redfish-core/lib/managers.hpp
@@ -2320,6 +2320,7 @@ inline void requestRoutesManager(App& app)
                                              "FirmwareVersion", true);
 
         managerGetLastResetTime(asyncResp);
+	getLocationIndicatorActive(asyncResp);
 
         // ManagerDiagnosticData is added for all BMCs.
         nlohmann::json& managerDiagnosticData =
@@ -2499,9 +2500,11 @@ inline void requestRoutesManager(App& app)
         std::optional<nlohmann::json> links;
         std::optional<std::string> datetime;
         std::optional<std::string> timeZone;
+	std::optional<bool> locationIndicatorActive;
 
         if (!json_util::readJsonPatch(req, asyncResp->res, "Oem", oem,
-                                      "DateTime", datetime, "Links", links, "DateTimeLocalOffset", timeZone))
+                                      "DateTime", datetime, "Links", links, "DateTimeLocalOffset", timeZone,
+				      "LocationIndicatorActive", locationIndicatorActive))
         {
             return;
         }
@@ -2566,6 +2569,10 @@ inline void requestRoutesManager(App& app)
         {
             setTimeZone(asyncResp, std::move(*timeZone));
         }
+	if (locationIndicatorActive)
+        {
+            setLocationIndicatorActive(asyncResp, *locationIndicatorActive);
+        }
 
         });
 }
-- 
2.25.1

