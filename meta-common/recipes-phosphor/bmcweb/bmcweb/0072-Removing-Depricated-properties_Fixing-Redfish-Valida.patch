From 585baa1bc342ee2658ac2a8807be1baf8b6d6d33 Mon Sep 17 00:00:00 2001
From: gokulp <gokulp@ami.com>
Date: Thu, 29 Jun 2023 21:16:16 +0530
Subject: [PATCH 2142/2142] Removing Depricated properties_Fixing Redfish
 Validator issue

Signed-off-by: gokulp <gokulp@ami.com>
---
 redfish-core/lib/account_service.hpp | 6 +++---
 redfish-core/lib/chassis.hpp         | 5 +++--
 redfish-core/lib/managers.hpp        | 6 ++++--
 redfish-core/lib/systems.hpp         | 2 +-
 4 files changed, 11 insertions(+), 8 deletions(-)

diff --git a/redfish-core/lib/account_service.hpp b/redfish-core/lib/account_service.hpp
index 77ee26a3..d98cdf28 100644
--- a/redfish-core/lib/account_service.hpp
+++ b/redfish-core/lib/account_service.hpp
@@ -1396,8 +1396,8 @@ inline void
             asyncResp->res.jsonValue["AccountLockoutThreshold"] =
                 *maxLoginAttemptBeforeLockout;
         }
-
-	if (rememberOldPasswordTimes != nullptr)
+//Fixing RedFish Validator issue
+	/* if (rememberOldPasswordTimes != nullptr)
 	{
 	   asyncResp->res.jsonValue["Oem"]["OpenBMC"]
 		   		   ["RememberOldPasswordTimes"] =
@@ -1409,7 +1409,7 @@ inline void
 	   asyncResp->res.jsonValue["Oem"]["OpenBMC"]
 		   		   ["PasswordPolicyComplexity"] =
 		*passwordPolicyComplexity;
-	}
+	} */
 
         });
 
diff --git a/redfish-core/lib/chassis.hpp b/redfish-core/lib/chassis.hpp
index c3158943..0b1fe911 100644
--- a/redfish-core/lib/chassis.hpp
+++ b/redfish-core/lib/chassis.hpp
@@ -413,7 +413,8 @@ inline void
                 asyncResp->res.jsonValue["Power"]["@odata.id"] =
                     "/redfish/v1/Chassis/" + chassisId + "/Power";
 #endif
-#ifdef BMCWEB_NEW_POWERSUBSYSTEM_THERMALSUBSYSTEM
+//Fixing RedFish Validator issue
+/* #ifdef BMCWEB_NEW_POWERSUBSYSTEM_THERMALSUBSYSTEM
                 asyncResp->res.jsonValue["ThermalSubsystem"]["@odata.id"] =
                     crow::utility::urlFromPieces("redfish", "v1", "Chassis",
                                                  chassisId, "ThermalSubsystem");
@@ -424,7 +425,7 @@ inline void
                     crow::utility::urlFromPieces("redfish", "v1", "Chassis",
                                                  chassisId,
                                                  "EnvironmentMetrics");
-#endif
+#endif */
                 // Network Adapters
                 asyncResp->res.jsonValue["NetworkAdapters"] = {
                     {"@odata.id", "/redfish/v1/Chassis/" +
diff --git a/redfish-core/lib/managers.hpp b/redfish-core/lib/managers.hpp
index fbf7ca93..6a29bc44 100644
--- a/redfish-core/lib/managers.hpp
+++ b/redfish-core/lib/managers.hpp
@@ -2339,10 +2339,12 @@ inline void requestRoutesManager(App& app)
         // Still used by OCP profiles
         // https://github.com/opencomputeproject/OCP-Profiles/issues/23
         // Fill in SerialConsole info
-        asyncResp->res.jsonValue["SerialConsole"]["ServiceEnabled"] = true;
+
+        //Fixing RedFish Validator issue
+        /* asyncResp->res.jsonValue["SerialConsole"]["ServiceEnabled"] = true;
         asyncResp->res.jsonValue["SerialConsole"]["MaxConcurrentSessions"] = 15;
         asyncResp->res.jsonValue["SerialConsole"]["ConnectTypesSupported"] = {
-            "IPMI", "SSH"};
+            "IPMI", "SSH"}; */
 
         // Fill in CommandShell info
         asyncResp->res.jsonValue["CommandShell"]["ServiceEnabled"] = true;
diff --git a/redfish-core/lib/systems.hpp b/redfish-core/lib/systems.hpp
index 9e929f0b..cdbd7521 100644
--- a/redfish-core/lib/systems.hpp
+++ b/redfish-core/lib/systems.hpp
@@ -3225,7 +3225,7 @@ inline void requestRoutesSystems(App& app)
         getLocationIndicatorActive(asyncResp);
         // TODO (Gunnar): Remove IndicatorLED after enough time has passed
    //   getIndicatorLedState(asyncResp);
-	getPhysicalLedState(asyncResp);
+	// getPhysicalLedState(asyncResp);  //Fixing RedFish Validator issue
         getComputerSystem(asyncResp, health);
         getHostState(asyncResp);
         getBootProperties(asyncResp);
-- 
2.34.1

