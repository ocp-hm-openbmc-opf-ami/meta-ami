From 5bf94ee5f82fe8ae5f15459ad5c09b2272911c6c Mon Sep 17 00:00:00 2001
From: pandiarajt <pandiarajt@ami.com>
Date: Tue, 7 Nov 2023 16:14:14 +0530
Subject: [PATCH 299/299] Added fix to launch SOL session in Multi SOL support

---
 sol/sol_manager.cpp | 6 ++++++
 sol/sol_manager.hpp | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

diff --git a/sol/sol_manager.cpp b/sol/sol_manager.cpp
index 7fe0f98..bb56182 100644
--- a/sol/sol_manager.cpp
+++ b/sol/sol_manager.cpp
@@ -38,6 +38,12 @@ void Manager::initConsoleSocket()
             std::string CONSOLE_PATH_SUFFIX = std::string(".ttyS") + std::to_string(instance - 1);
             path.append(CONSOLE_PATH_SUFFIX);
     }
+    else
+    {
+	    std::string CONSOLE_PATH_SUFFIX = std::string(".default");
+	    path.append(CONSOLE_PATH_SUFFIX);
+    }
+
     boost::asio::local::stream_protocol::endpoint ep(path);
     consoleSocket =
         std::make_unique<boost::asio::local::stream_protocol::socket>(*io);
diff --git a/sol/sol_manager.hpp b/sol/sol_manager.hpp
index dd857fe..33a537d 100644
--- a/sol/sol_manager.hpp
+++ b/sol/sol_manager.hpp
@@ -20,7 +20,7 @@ constexpr size_t MAX_PAYLOAD_SIZE = 255;
 constexpr uint8_t MAJOR_VERSION = 0x01;
 constexpr uint8_t MINOR_VERSION = 0x00;
 
-constexpr char CONSOLE_SOCKET_PATH[] = "\0obmc-console.default";
+constexpr char CONSOLE_SOCKET_PATH[] = "\0obmc-console";
 constexpr size_t CONSOLE_SOCKET_PATH_LEN = sizeof(CONSOLE_SOCKET_PATH) - 1;
 
 constexpr uint8_t accIntervalFactor = 5;
-- 
2.25.1

